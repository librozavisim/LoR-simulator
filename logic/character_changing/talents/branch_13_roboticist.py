from logic.character_changing.passives.base_passive import BasePassive


# ==========================================
# 13.1 Best Friends Forever
# ==========================================
class TalentBestFriendsForever(BasePassive):
    id = "best_friends_forever"
    name = "Best Friends Forever"
    description = (
        "13.1 –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∑–Ω–∞–Ω–∏—è –æ –±–∞–∑–æ–≤–æ–º —Ä–æ–±–æ—Ç–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏.\n"
        "–≠—Ñ—Ñ–µ–∫—Ç: –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö —Ä–æ–±–æ—Ç–æ–≤-—Å–ø—É—Ç–Ω–∏–∫–æ–≤ (–ú–∞–∫—Å. 1).\n"
        "–ü–∞—Å—Å–∏–≤–Ω–æ: +2 –∫ –ò–Ω–∂–µ–Ω–µ—Ä–∏–∏."
    )
    is_active_ability = True

    def on_calculate_stats(self, unit) -> dict:
        return {"engineering": 2}

    def activate(self, unit, log_func, **kwargs):
        if log_func: log_func("ü§ñ **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–±–æ—Ç–∞**: –ú–µ–Ω—é –∫—Ä–∞—Ñ—Ç–∞ —Å–ø—É—Ç–Ω–∏–∫–∞ (–ó–∞–≥–ª—É—à–∫–∞).")
        return True


# ==========================================
# 13.2 Little Big Trouble
# ==========================================
class TalentLittleBigTrouble(BasePassive):
    id = "little_big_trouble"
    name = "Little Big Trouble"
    description = (
        "13.2 –ó–Ω–∞–Ω–∏—è –æ —Ç–æ–º, –∫–∞–∫ –ª—É—á—à–µ —Å–æ–±—Ä–∞—Ç—å —Ä–æ–±–æ—Ç–∞.\n"
        "–≠—Ñ—Ñ–µ–∫—Ç: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞/–±—Ä–æ–Ω–∏/–∫–∞—á–µ—Å—Ç–≤–∞ —Ä–æ–±–æ—Ç–∞. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ—Ç—ã –º–æ–¥—É–ª–µ–π."
    )
    is_active_ability = False


# ==========================================
# 13.2 (–û–ø—Ü) –†–∞—Å—à–∏—Ä–∏—Ç–µ–ª—å —è—á–µ–µ–∫
# ==========================================
class TalentCellExpander(BasePassive):
    id = "cell_expander"
    name = "–†–∞—Å—à–∏—Ä–∏—Ç–µ–ª—å —è—á–µ–µ–∫"
    description = "13.2 –û–ø—Ü: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π —Ä–æ–±–æ—Ç–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ 2."
    is_active_ability = False


# ==========================================
# 13.3 To hell with the first law!
# ==========================================
class TalentNoFirstLaw(BasePassive):
    id = "no_first_law"
    name = "To hell with the first law!"
    description = (
        "13.3 –ë–∞–∑–æ–≤—ã–π –ò–ò –¥–ª—è —Ä–æ–±–æ—Ç–∞.\n"
        "–≠—Ñ—Ñ–µ–∫—Ç: –†–æ–±–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, —É–ª—É—á—à–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫."
    )
    is_active_ability = False


# ==========================================
# 13.4 –Ø—Ä–∫–∏–π —Ç–∞–ª–∞–Ω—Ç
# ==========================================
class TalentBrightTalent(BasePassive):
    id = "bright_talent"
    name = "–Ø—Ä–∫–∏–π —Ç–∞–ª–∞–Ω—Ç"
    description = (
        "13.4 –ë—Ä–æ—Å–æ–∫ –ò–Ω–∂–µ–Ω–µ—Ä–∏–∏ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Ñ–æ—Ä–º—É–ª—É 1d10+10.\n"
        "–ü–∞—Å—Å–∏–≤–Ω–æ: +3 –∫ –ò–Ω–∂–µ–Ω–µ—Ä–∏–∏."
    )
    is_active_ability = False

    def on_calculate_stats(self, unit) -> dict:
        return {"engineering": 3}


# ==========================================
# 13.5 Smaller Lighter Faster
# ==========================================
class TalentSmallerLighterFaster(BasePassive):
    id = "smaller_lighter_faster"
    name = "Smaller Lighter Faster"
    description = (
        "13.5 –í–∞—à —Ä–æ–±–æ—Ç –Ω–∞—É—á–∏–ª—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≤–æ–æ—Ä—É–∂–µ–Ω–∏—è.\n"
        "–ú–æ–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏."
    )
    is_active_ability = False


# ==========================================
# 13.5 (–û–ø—Ü) –§—Ä–µ–π–º-–∞–ø–≥—Ä–µ–π–¥
# ==========================================
class TalentFrameUpgrade(BasePassive):
    id = "frame_upgrade"
    name = "–§—Ä–µ–π–º-–∞–ø–≥—Ä–µ–π–¥"
    description = "13.5 –û–ø—Ü: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π —Ä–æ–±–æ—Ç–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ 3."
    is_active_ability = False


# ==========================================
# 13.6 –°–¥–µ–ª–∞–Ω–æ –Ω–∞ –≤–µ–∫–∞
# ==========================================
class TalentMadeToLast(BasePassive):
    id = "made_to_last"
    name = "–°–¥–µ–ª–∞–Ω–æ –Ω–∞ –≤–µ–∫–∞"
    description = "13.6 –ü–æ–≤—ã—à–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –Ω–∞ 1."
    is_active_ability = False


# ==========================================
# 13.7 Chimera Core
# ==========================================
class TalentChimeraCore(BasePassive):
    id = "chimera_core"
    name = "Chimera Core"
    description = (
        "13.7 –†–æ–±–æ—Ç –º–æ–∂–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–æ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ—Ä–º).\n"
        "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º: 2."
    )
    is_active_ability = True

    def activate(self, unit, log_func, **kwargs):
        if log_func: log_func("üîÑ **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è**: –†–æ–±–æ—Ç –º–µ–Ω—è–µ—Ç —Ñ–æ—Ä–º—É (–ó–∞–≥–ª—É—à–∫–∞).")
        return True


# ==========================================
# 13.8 Upshot Robot
# ==========================================
class TalentUpshotRobot(BasePassive):
    id = "upshot_robot"
    name = "Upshot Robot"
    description = (
        "13.8 –†–æ–±–æ—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤—Ä–∞–≥–∞.\n"
        "–≠—Ñ—Ñ–µ–∫—Ç: –ë–æ–Ω—É—Å—ã –≤ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–∏–ø–æ–º –≤—Ä–∞–≥–∞.\n"
        "–ü–∞—Å—Å–∏–≤–Ω–æ: +3 –∫ –ú—É–¥—Ä–æ—Å—Ç–∏."
    )
    is_active_ability = False

    def on_calculate_stats(self, unit) -> dict:
        return {"wisdom": 3}


# ==========================================
# 13.8 (–û–ø—Ü) –ö–≤–∞–Ω—Ç–æ–≤—ã–π —Ö–∞–±
# ==========================================
class TalentQuantumHub(BasePassive):
    id = "quantum_hub"
    name = "–ö–≤–∞–Ω—Ç–æ–≤—ã–π —Ö–∞–±"
    description = "13.8 –û–ø—Ü: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π —Ä–æ–±–æ—Ç–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ 4."
    is_active_ability = False


# ==========================================
# 13.9 Jack-of-All-Trades Mode
# ==========================================
class TalentJackOfAllTrades(BasePassive):
    id = "jack_of_all_trades"
    name = "Jack-of-All-Trades Mode"
    description = (
        "13.9 –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–∞–∑–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π —Å—Ä–∞–∑—É —Å –º–µ–Ω—å—à–∏–º —Ä–∏—Å–∫–æ–º –ø–µ—Ä–µ–≥—Ä–µ–≤–∞.\n"
        "'–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –≤–∑–æ—Ä–≤–∞–ª–æ—Å—å ‚Äî –∑–Ω–∞—á–∏—Ç, —Å—Ä–∞–±–æ—Ç–∞–ª–æ!'"
    )
    is_active_ability = True


# ==========================================
# 13.10 –ê: Machina Ex Deo
# ==========================================
class TalentMachinaExDeo(BasePassive):
    id = "machina_ex_deo"
    name = "Machina Ex Deo (–ê)"
    description = (
        "13.10 –ê: –§–∏–Ω–∞–ª—å–Ω–∞—è —ç–≤–æ–ª—é—Ü–∏—è. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –Ω–∞–≤—ã–∫ 'Iron Warden'.\n"
        "–ê–∫—Ç–∏–≤–Ω–æ: –†–æ–±–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∞—à–µ–π –æ–±–æ–ª–æ—á–∫–æ–π, —É—Å–∏–ª–∏–≤–∞—è –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —É—Ä–æ–Ω.\n"
        "–í—ã —Å—Ä–∞–∂–∞–µ—Ç–µ—Å—å –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ."
    )
    is_active_ability = True
    cooldown = 99

    def activate(self, unit, log_func, **kwargs):
        if unit.cooldowns.get(self.id, 0) > 0: return False

        # –≠–º—É–ª—è—Ü–∏—è —Å–ª–∏—è–Ω–∏—è (–º–æ—â–Ω—ã–µ –±–∞—Ñ—Ñ—ã)
        unit.add_status("strength", 3, duration=3)
        unit.add_status("endurance", 3, duration=3)
        unit.add_status("haste", 3, duration=3)

        unit.cooldowns[self.id] = self.cooldown
        if log_func: log_func("ü§ñ **Iron Warden**: –°–ª–∏—è–Ω–∏–µ —Å —Ä–æ–±–æ—Ç–æ–º! –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É—Å–∏–ª–µ–Ω—ã.")
        return True


# ==========================================
# 13.10 B: Exogenesis Protocol
# ==========================================
class TalentExogenesisProtocol(BasePassive):
    id = "exogenesis_protocol"
    name = "Exogenesis Protocol (–ë)"
    description = (
        "13.10 –ë: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞ —Å–≤—è–∑–∏.\n"
        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–±–æ—Ç–æ–≤ –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç –¥–æ 2."
    )
    is_active_ability = False


# ==========================================
# 13.10 (–û–ø—Ü) –°–∏—Å—Ç–µ–º–∞ –º–Ω–æ–≥–æ—Ü–µ–ª–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
# ==========================================
class TalentMultiConnection(BasePassive):
    id = "multi_connection"
    name = "–°–∏—Å—Ç–µ–º–∞ –º–Ω–æ–≥–æ—Ü–µ–ª–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"
    description = (
        "13.10 –û–ø—Ü: –ï—Å–ª–∏ –≤–∑—è—Ç—ã –≤—Å–µ –Ω–∞–≤—ã–∫–∏ –Ω–∞ –º–æ–¥—É–ª–∏ -> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π —Å–Ω—è—Ç–æ.\n"
        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –Ω–∞–≤—ã–∫–æ–≤."
    )
    is_active_ability = False