import streamlit as st

from ui.checks.components import draw_roll_interface, draw_luck_interface
from ui.checks.constants import TYPE_10_ATTRS, TYPE_15_SKILLS


def render_checks_page():
    st.title("üé≤ –ü—Ä–æ–≤–µ—Ä–∫–∏ (Skill Checks)")

    if 'roster' not in st.session_state or not st.session_state['roster']:
        st.warning("–†–æ—Å—Ç–µ—Ä –ø—É—Å—Ç.")
        return

    roster_names = sorted(list(st.session_state['roster'].keys()))
    current_key = st.session_state.get("checks_selected_unit")
    default_index = 0

    if current_key in roster_names:
        default_index = roster_names.index(current_key)

    c_sel, _ = st.columns([1, 1])
    selected_name = c_sel.selectbox(
        "–ü–µ—Ä—Å–æ–Ω–∞–∂",
        roster_names,
        index=default_index,
        key="checks_selected_unit",
        on_change=st.session_state.get('save_callback')
    )

    unit = st.session_state['roster'][selected_name]
    unit.recalculate_stats()

    tabs = st.tabs(["üí™ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏", "üõ†Ô∏è –ù–∞–≤—ã–∫–∏", "üß† –ú—É–¥—Ä–æ—Å—Ç—å", "üçÄ –£–¥–∞—á–∞", "üí° –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç"])

    # 1. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    with tabs[0]:
        l_dict = {v: k for k, v in TYPE_10_ATTRS.items()}
        chosen = st.selectbox("–ü–∞—Ä–∞–º–µ—Ç—Ä", list(TYPE_10_ATTRS.values()), key="sel_attr")
        st.caption("üé≤ **1d6 + (–ó–Ω–∞—á–µ–Ω–∏–µ / 3)**. –ú–∞–∫—Å —Å—Ç–∞—Ç: 30.")
        draw_roll_interface(unit, l_dict[chosen], chosen)
        with st.expander("‚ÑπÔ∏è –¢–∞–±–ª–∏—Ü–∞ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ (–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)", expanded=True):
            st.markdown("""
                            * **1~4** ‚Äî –¥–µ–ª–∞, —á—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—é–±–æ–π, –∫—Ç–æ –Ω–µ –∏–Ω–≤–∞–ª–∏–¥ –∏–ª–∏ —É–º—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç—Å—Ç–∞–ª—ã–π 
                            * **5~8** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫, –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥—Å—Ç—ë–≥–Ω—É—Ç—ã–π –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ 
                            * **9~12** ‚Äî –∑–∞–¥–∞—á–∏, —Ä–µ—à–∞–µ–º—ã–µ —Ç–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ 
                            * **13~16** ‚Äî —Ç—è–∂–µ–ª—ã–µ –∑–∞–¥–∞—á–∏, —Ä–µ—à–∞–µ–º—ã–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞–º–∏ –≤ –¥–∞–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                            * **17~20** ‚Äî –Ω–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–±–ª–µ–º, –¥–æ—Å—Ç–∏–≥–∞–µ–º—ã–π —Ç–æ–ª—å–∫–æ –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è–º–∏, –ª–∏–±–æ –∏–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏
                            * **21+** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å —á–µ–ª–æ–≤–µ–∫ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ
                            """)

    # 2. –ù–∞–≤—ã–∫–∏
    with tabs[1]:
        l_dict = {v: k for k, v in TYPE_15_SKILLS.items()}
        items = sorted(list(TYPE_15_SKILLS.values()))
        chosen = st.selectbox("–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–≤—ã–∫", items, key="sel_skill")
        key = l_dict[chosen]

        info_text = "üé≤ **1d6 + –ó–Ω–∞—á–µ–Ω–∏–µ**."
        if key in ["speed", "medicine"]:
            info_text = "üé≤ **1d6 + (–ó–Ω–∞—á–µ–Ω–∏–µ / 3)** (–ê—Ç—Ä–∏–±—É—Ç–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç)"
        if key == "engineering": info_text += " ‚ö†Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å x1.3"

        st.caption(info_text)
        draw_roll_interface(unit, key, chosen)
        with st.expander("‚ÑπÔ∏è –¢–∞–±–ª–∏—Ü–∞ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ (–ù–∞–≤—ã–∫–∏)", expanded=True):
            st.markdown("""
                        * **1~7** ‚Äî –¥–µ–ª–∞, —á—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—é–±–æ–π, –∫—Ç–æ –Ω–µ –∏–Ω–≤–∞–ª–∏–¥ –∏–ª–∏ —É–º—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç—Å—Ç–∞–ª—ã–π 
                        * **8~14** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫, –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥—Å—Ç—ë–≥–Ω—É—Ç—ã–π –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ 
                        * **15~21** ‚Äî –∑–∞–¥–∞—á–∏, —Ä–µ—à–∞–µ–º—ã–µ —Ç–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ 
                        * **22~29** ‚Äî –Ω–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–±–ª–µ–º, –¥–æ—Å—Ç–∏–≥–∞–µ–º—ã–π —Ç–æ–ª—å–∫–æ –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è–º–∏, –ª–∏–±–æ –∏–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏
                        * **30+** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å —á–µ–ª–æ–≤–µ–∫ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ 
                        """)

    # 3. –ú—É–¥—Ä–æ—Å—Ç—å
    with tabs[2]:
        st.caption("üé≤ **1d20 + –ó–Ω–∞—á–µ–Ω–∏–µ**. –î–ª—è —Ä–æ–ª–µ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π.")
        draw_roll_interface(unit, "wisdom", "–ú—É–¥—Ä–æ—Å—Ç—å")
        with st.expander("‚ÑπÔ∏è –¢–∞–±–ª–∏—Ü–∞ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ (–ú—É–¥—Ä–æ—Å—Ç—å)", expanded=True):
            st.markdown("""
                            * **1~6** ‚Äî –¥–µ–ª–∞, —á—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—é–±–æ–π, –∫—Ç–æ –Ω–µ –∏–Ω–≤–∞–ª–∏–¥ –∏–ª–∏ —É–º—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç—Å—Ç–∞–ª—ã–π 
                            * **7~12** ‚Äî —É—Ä–æ–≤–µ–Ω—å –æ–±—ã—á–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
                            * **13~19** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫, –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥—Å—Ç—ë–≥–Ω—É—Ç—ã–π –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ 
                            * **20~27** ‚Äî —É—Ä–æ–≤–µ–Ω—å —Ö–æ—Ä–æ—à–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∂–∏—Ç–µ–ª—è –≥–æ—Ä–æ–¥–∞
                            * **28~35** ‚Äî –∑–∞–¥–∞—á–∏, —Ä–µ—à–∞–µ–º—ã–µ —Ç–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ 
                            * **36~44** ‚Äî –Ω–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–±–ª–µ–º, –¥–æ—Å—Ç–∏–≥–∞–µ–º—ã–π —Ç–æ–ª—å–∫–æ –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è–º–∏, –ª–∏–±–æ –∏–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏
                            * **45+** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å —á–µ–ª–æ–≤–µ–∫ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ
                            """)

    # 4. –£–¥–∞—á–∞
    with tabs[3]:
        st.caption("üé≤ **1d12 + –¢–µ–∫—É—â–∞—è –£–¥–∞—á–∞**. –¢—Ä–∞—Ç–∞ —É–¥–∞—á–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —à—Ç—Ä–∞—Ñ–∞–º.")
        draw_luck_interface(unit)
        with st.expander("‚ÑπÔ∏è –£—Ä–æ–≤–Ω–∏ –£–¥–∞—á–∏ (–ü–û–õ–ù–û–ï –û–ü–ò–°–ê–ù–ò–ï)", expanded=True):
            st.markdown("""
                        * **1** ‚Äî –≤—ã –ø–æ–ª–Ω—ã–π –Ω–µ—É–¥–∞—á–Ω–∏–∫, –æ–∂–∏–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ –°–≤–∏–ø–ø–µ—Ä–∞ –Ω–æ—á—å—é
                        * **6** ‚Äî —É –≤–∞—Å –æ–±—ã—á–Ω–∞—è —É–¥–∞—á–∞ —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞. –í—ã –Ω–µ –æ–ø–æ–∑–¥–∞–µ—Ç–µ –Ω–∞ —Ä–∞–±–æ—Ç—É –∏ –Ω–∞–π–¥—ë—Ç–µ –∫–µ—Ç—á—É–ø –¥–æ –µ–≥–æ –±–∏–æ—Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è
                        * **12** ‚Äî —Å–µ–≥–æ–¥–Ω—è –≤–∞–º –≤–µ–∑—ë—Ç! –ù–∞–π–¥–µ–Ω–Ω–∞—è –º–æ–Ω–µ—Ç–∫–∞ –≤ 100 –∞–Ω, –ª–∏–±–æ –∑–∞–≤–∞–ª—è–≤—à–∏–π—Å—è –Ω–æ—Å–æ–∫ –ø–æ–¥ –∫—Ä–æ–≤–∞—Ç—å—é —Ç–æ–º—É —Å–≤–∏–¥–µ—Ç–µ–ª—å
                        * **20** ‚Äî –≤—ã –Ω–∞—à–ª–∏ —Å–≤–æ–π –≤—á–µ—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å, –∞ —Ç–∞–∫–∂–µ —Å–º–æ–≥–ª–∏ –≤—ã–∏–≥—Ä–∞—Ç—å –∫—É—à –≤ –∫–∞–∑–∏–Ω–æ. –û—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ, –≤–µ–∑—É–Ω—á–∏–∫–∏ —Å–º–µ—Ä—Ç–Ω—ã! –ê –µ—â—ë —Å–µ–≥–æ–¥–Ω—è –ø–æ—à–ª–∏ –ø–æ –∫—Ä–∞—Ç—á–∞–π—à–µ–π –¥–æ—Ä–æ–∂–∫–µ –∏ –Ω–µ –ø–æ–ø–∞–ª–∏ –ø–æ–¥ –º–∞—à–∏–Ω—É
                        * **30** ‚Äî –≤–µ–∑–µ–Ω–∏–µ –Ω–∞ —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –Ω–µ—á—Ç–æ –Ω–µ—Ä–µ–∞–ª—å–Ω–æ–µ. –í—ã –ª–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ —Å–≤–æ–∏—Ö –¥—Ä—É–∑–µ–π –Ω–∞ —É–ª–∏—Ü–µ, –æ—Ç –≤–∞—Å –Ω–µ —Å–∫—Ä–æ—é—Ç—Å—è –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤–∞—à–∞ –¥–µ–ø—Ä–µ—Å—Å–∏—è –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ—â—É—â–∞—Ç—å—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä—É—Ç–∏–Ω–æ–π
                        * **45** ‚Äî –¥–∞–ª—å–Ω–µ–π—à–∏–π —Ä–æ—Å—Ç –≤–∞—à–µ–≥–æ –≤–µ–∑–µ–Ω–∏—è —É—Ö–æ–¥–∏—Ç –≤ –∫–æ—Ä–Ω–∏ —Å—Ç—Ä–∞–Ω–Ω–æ—Å—Ç–µ–π. –£ –≤–∞—Å —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –æ—à–∏–±–∫–∏ —á–∏—Å—Ç–æ–π —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å—é, –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω—ã–µ –ø–∞–º—è—Ç–∫–∏ –≤ –≥–æ–ª–æ–≤–µ –∏ –Ω–µ –æ—à–∏–±–∞—Ç—å—Å—è –≤ —É–¥–∞—Ä–µ–Ω–∏–∏ –¥–∞–∂–µ –≤ —Å–∞–º—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö (–≤—ã –∏—Ö –Ω–µ –∑–Ω–∞–µ—Ç–µ). –í–∞—à–∞ —É–¥–∞—á–∞ —Å—Ä–∞–≤–Ω–∏–º–∞ —Å —Ö–∞—Ä–∏–∑–º–æ–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –æ—Ñ–∏—Å–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ 4-6 —Ä–∞–Ω–≥–æ–≤, –∞ —Ç–∞–∫–∂–µ —Å —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π —Å–∏–Ω–¥–∏–∫–∞—Ç–æ–≤ —É—Ä–æ–≤–Ω—è –ì–æ—Ä–æ–¥—Å–∫–æ–π –ß—É–º—ã. –≠—Ç–æ –Ω–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
                        * **60** ‚Äî –í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Ç—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –ø–∞—Ä–∞–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –≤–º–µ—à–∏–≤–∞—Ç—å—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –º–∏—Ä–∞. –•–æ—Ç—å –≤—ã –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–ª–∞–±—ã, –Ω–æ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–≥—É—Ç —Å–ø—Ä–æ–≤–æ—Ü–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–¥—É "—É–¥–∞—á–Ω—ã—Ö" —Å—Ç–µ—á–µ–Ω–∏–π –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç —Ç–æ–ª—å–∫–æ –≤–∞—Å.
                        * **80** ‚Äî –í–∞—à–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–µ –Ω–∞ —à—É—Ç–∫—É –≤–ª–∏—è–µ—Ç —Ç–µ—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ì–æ—Ä–æ–¥–∞, –≤–ø–ª–æ—Ç—å –¥–æ —Ç–æ–≥–æ, —á—Ç–æ –∏–∑-–∑–∞ –≤–∞—Å –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å—Å—è –≤–æ–π–Ω—ã –º–µ–∂–¥—É —Ü–µ–ª—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —Ä–∞–π–æ–Ω–∞. –°–ª—É—á–∞–π–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è —É–∂–µ –Ω–µ —Å–ª—É—á–∞–π–Ω–∞. –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Å–ø–µ—Ö–∏ –≤ –ª—é–±–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∞–±—Å–æ–ª—é—Ç –≤–æ –≤—Å—ë–º.
                        * **100+** ‚Äî –õ–∏—à—å –µ–¥–∏–Ω–∏—Ü—ã –º–æ–≥—É—Ç –ø–æ—Ö–≤–∞—Å—Ç–∞—Ç—å—Å—è —Ç–µ–º, —á—Ç–æ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç –≤–æ–∫—Ä—É–≥ —Å–µ–±—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ "—É–¥–∞—á–∏". –í—ã —Å–ø–æ—Å–æ–±–Ω—ã —Ç—è–≥–∞—Ç—å—Å—è —Å –ó–≤–µ–∑–¥–∞–º–∏ –ì–æ—Ä–æ–¥–∞ –≥–æ–ª—ã–º–∏ —Ä—É–∫–∞–º–∏

                        ‚ö†Ô∏è *–¢–∞–±–ª–∏—Ü–∞ –®—Ç—Ä–∞—Ñ–æ–≤ (–¢—Ä–∞—Ç–∞/–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ):*
                        * **0~6**: 1
                        * **6~12**: 3
                        * **12~20**: 5
                        * **20~30**: 10
                        * **30~45**: 20
                        * **45~60**: 40
                        * **60+**: –í—Å—è —É–¥–∞—á–∞ / –°–±—Ä–æ—Å
                        """)

    # 5. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç
    with tabs[4]:
        st.caption("üé≤ **1d6 + 4 + –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç**.")
        draw_roll_interface(unit, "intellect", "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç")
        with st.expander("‚ÑπÔ∏è –¢–∞–±–ª–∏—Ü–∞ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ (–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç)", expanded=True):
            st.markdown("""
                        * **1~7** ‚Äî –¥–µ–ª–∞, —á—Ç–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ª—é–±–æ–π, –∫—Ç–æ –Ω–µ –∏–Ω–≤–∞–ª–∏–¥ –∏–ª–∏ —É–º—Å—Ç–≤–µ–Ω–Ω–æ –æ—Ç—Å—Ç–∞–ª—ã–π 
                        * **8~14** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å –ª—é–±–æ–π —á–µ–ª–æ–≤–µ–∫, –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥—Å—Ç—ë–≥–Ω—É—Ç—ã–π –≤ –¥–∞–Ω–Ω–æ–π —Å—Ñ–µ—Ä–µ 
                        * **15~21** ‚Äî –∑–∞–¥–∞—á–∏, —Ä–µ—à–∞–µ–º—ã–µ —Ç–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–Ω—ã–º–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ 
                        * **22~29** ‚Äî –Ω–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–±–ª–µ–º, –¥–æ—Å—Ç–∏–≥–∞–µ–º—ã–π —Ç–æ–ª—å–∫–æ –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è–º–∏, –ª–∏–±–æ –∏–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏
                        * **30+** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å —á–µ–ª–æ–≤–µ–∫ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ 
                        """)